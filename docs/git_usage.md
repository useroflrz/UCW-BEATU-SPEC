# Git ä½¿ç”¨è¯´æ˜æ–‡æ¡£

> æœ¬æ–‡æ¡£é¢å‘ UCW-BEATU-SPEC é¡¹ç›®å›¢é˜Ÿï¼Œè¯´æ˜å¦‚ä½•ä½¿ç”¨ Git å­æ¨¡å—è¿›è¡Œåä½œå¼€å‘ã€‚

## ğŸ“‹ ç›®å½•

- [é¡¹ç›®ç»“æ„](#é¡¹ç›®ç»“æ„)
- [é¦–æ¬¡å…‹éš†é¡¹ç›®](#é¦–æ¬¡å…‹éš†é¡¹ç›®)
- [æ—¥å¸¸å¼€å‘å·¥ä½œæµ](#æ—¥å¸¸å¼€å‘å·¥ä½œæµ)
- [å­æ¨¡å—æ“ä½œæŒ‡å—](#å­æ¨¡å—æ“ä½œæŒ‡å—)
- [æ¨é€æ³¨æ„äº‹é¡¹](#æ¨é€æ³¨æ„äº‹é¡¹)
- [å¸¸è§é—®é¢˜å¤„ç†](#å¸¸è§é—®é¢˜å¤„ç†)
- [åˆ†æ”¯ç®¡ç†è§„èŒƒ](#åˆ†æ”¯ç®¡ç†è§„èŒƒ)

---

## é¡¹ç›®ç»“æ„

æœ¬é¡¹ç›®é‡‡ç”¨ **Git å­æ¨¡å—ï¼ˆSubmoduleï¼‰** æ¶æ„ï¼š

```
UCW-BEATU-SPEC (å¤–å±‚ä»“åº“)
â”œâ”€â”€ .gitmodules          # å­æ¨¡å—é…ç½®æ–‡ä»¶
â”œâ”€â”€ .cursorrules         # é¡¹ç›®è§„èŒƒ
â””â”€â”€ BeatUClient/               # å­æ¨¡å—ï¼ˆAndroid é¡¹ç›®ï¼‰
    â”œâ”€â”€ app/
    â”œâ”€â”€ gradle/
    â””â”€â”€ ...
```

**ä»“åº“ä¿¡æ¯ï¼š**
- **å¤–å±‚ä»“åº“**ï¼š`https://github.com/useroflrz/UCW-BEATU-SPEC.git`
- **å­æ¨¡å—ä»“åº“**ï¼š`https://github.com/useroflrz/UCW-BEATU.git`

---

## é¦–æ¬¡å…‹éš†é¡¹ç›®

### æ–¹æ³•ä¸€ï¼šå…‹éš†æ—¶åŒ…å«å­æ¨¡å—ï¼ˆæ¨èï¼‰

```bash
# å…‹éš†å¤–å±‚ä»“åº“å¹¶è‡ªåŠ¨åˆå§‹åŒ–å­æ¨¡å—
git clone --recursive https://github.com/useroflrz/UCW-BEATU-SPEC.git

# æˆ–è€…ä½¿ç”¨ç®€å†™
git clone --recurse-submodules https://github.com/useroflrz/UCW-BEATU-SPEC.git
```

### æ–¹æ³•äºŒï¼šå…ˆå…‹éš†å¤–å±‚ï¼Œå†åˆå§‹åŒ–å­æ¨¡å—

```bash
# 1. å…‹éš†å¤–å±‚ä»“åº“
git clone https://github.com/useroflrz/UCW-BEATU-SPEC.git
cd UCW-BEATU-SPEC

# 2. åˆå§‹åŒ–å¹¶æ›´æ–°å­æ¨¡å—
git submodule update --init --recursive
```

### åˆ‡æ¢åˆ°å­æ¨¡å—çš„ main åˆ†æ”¯

å…‹éš†å®Œæˆåï¼Œ**å¿…é¡»**æ‰‹åŠ¨åˆ‡æ¢åˆ°å­æ¨¡å—çš„ `main` åˆ†æ”¯ï¼š

```bash
# è¿›å…¥å­æ¨¡å—ç›®å½•
cd BeatUClient

# åˆ‡æ¢åˆ° main åˆ†æ”¯
git checkout main

# ç¡®è®¤åˆ†æ”¯
git branch
# åº”è¯¥æ˜¾ç¤ºï¼š* main

# è¿”å›å¤–å±‚ç›®å½•
cd ..
```

**âš ï¸ é‡è¦ï¼š** å¦‚æœä¸åˆ‡æ¢åˆ° `main` åˆ†æ”¯ï¼Œå­æ¨¡å—ä¼šå¤„äº "detached HEAD" çŠ¶æ€ï¼Œåç»­æäº¤å¯èƒ½ä¸¢å¤±ã€‚

---

## æ—¥å¸¸å¼€å‘å·¥ä½œæµ

### 1. æ›´æ–°é¡¹ç›®ï¼ˆæ‹‰å–æœ€æ–°ä»£ç ï¼‰

#### æ›´æ–°å¤–å±‚ä»“åº“

```bash
# åœ¨å¤–å±‚ç›®å½•æ‰§è¡Œ
git pull origin main
```

#### æ›´æ–°å­æ¨¡å—

```bash
# æ–¹æ³•ä¸€ï¼šåœ¨å¤–å±‚ç›®å½•æ›´æ–°æ‰€æœ‰å­æ¨¡å—åˆ°æœ€æ–°æäº¤
git submodule update --remote

# æ–¹æ³•äºŒï¼šè¿›å…¥å­æ¨¡å—ç›®å½•æ‰‹åŠ¨æ›´æ–°
cd BeatUClient
git pull origin main
cd ..
```

**æ¨èæµç¨‹ï¼š**

```bash
# 1. æ›´æ–°å¤–å±‚ä»“åº“
git pull origin main

# 2. è¿›å…¥å­æ¨¡å—
cd BeatUClient

# 3. ç¡®ä¿åœ¨ main åˆ†æ”¯
git checkout main

# 4. æ‹‰å–æœ€æ–°ä»£ç 
git pull origin main

# 5. è¿”å›å¤–å±‚
cd ..
```

---

## å­æ¨¡å—æ“ä½œæŒ‡å—

### è¿›å…¥å­æ¨¡å—è¿›è¡Œå¼€å‘

```bash
# è¿›å…¥å­æ¨¡å—ç›®å½•
cd BeatUClient

# ç¡®è®¤å½“å‰åˆ†æ”¯ï¼ˆåº”è¯¥æ˜¾ç¤º mainï¼‰
git branch

# å¦‚æœä¸æ˜¯ main åˆ†æ”¯ï¼Œåˆ‡æ¢è¿‡å»
git checkout main
```

### åœ¨å­æ¨¡å—ä¸­æäº¤ä»£ç 

```bash
# 1. è¿›å…¥å­æ¨¡å—ç›®å½•
cd BeatUClient

# 2. ç¡®ä¿åœ¨ main åˆ†æ”¯
git checkout main

# 3. æŸ¥çœ‹ä¿®æ”¹çŠ¶æ€
git status

# 4. æ·»åŠ æ–‡ä»¶åˆ°æš‚å­˜åŒº
git add .

# 5. æäº¤ï¼ˆæŒ‰ç…§æäº¤è§„èŒƒï¼‰
git commit -m "feat: æ·»åŠ è§†é¢‘æ’­æ”¾åŠŸèƒ½"

# 6. æ¨é€åˆ°å­æ¨¡å—ä»“åº“
git push origin main

# 7. è¿”å›å¤–å±‚ç›®å½•
cd ..
```

### æ›´æ–°å¤–å±‚ä»“åº“çš„å­æ¨¡å—å¼•ç”¨

åœ¨å­æ¨¡å—ä¸­æ¨é€æ–°æäº¤åï¼Œéœ€è¦æ›´æ–°å¤–å±‚ä»“åº“çš„å­æ¨¡å—å¼•ç”¨ï¼š

```bash
# åœ¨å¤–å±‚ç›®å½•æ‰§è¡Œ
cd ..

# æŸ¥çœ‹å­æ¨¡å—çŠ¶æ€ï¼ˆåº”è¯¥æ˜¾ç¤ºå­æ¨¡å—æœ‰æ–°çš„æäº¤ï¼‰
git status
# ä¼šæ˜¾ç¤ºç±»ä¼¼ï¼šmodified: BeatUClient (new commits)

# æ·»åŠ å­æ¨¡å—å¼•ç”¨æ›´æ–°
git add BeatUClient

# æäº¤å­æ¨¡å—å¼•ç”¨æ›´æ–°
git commit -m "chore: æ›´æ–° BeatUClient å­æ¨¡å—åˆ°æœ€æ–°ç‰ˆæœ¬"

# æ¨é€åˆ°å¤–å±‚ä»“åº“
git push origin main
```

**âš ï¸ é‡è¦ï¼š** å¦‚æœåªæ¨é€äº†å­æ¨¡å—ä½†å¿˜è®°æ›´æ–°å¤–å±‚ä»“åº“çš„å¼•ç”¨ï¼Œå…¶ä»–å›¢é˜Ÿæˆå‘˜æ— æ³•è·å–åˆ°æœ€æ–°çš„å­æ¨¡å—ä»£ç ã€‚

---

## æ¨é€æ³¨æ„äº‹é¡¹

### âœ… æ­£ç¡®çš„æ¨é€æµç¨‹

```bash
# ========== æ­¥éª¤ 1: æ¨é€å­æ¨¡å— ==========
cd BeatUClient

# ç¡®ä¿åœ¨ main åˆ†æ”¯
git checkout main

# æ·»åŠ ã€æäº¤ã€æ¨é€å­æ¨¡å—ä»£ç 
git add .
git commit -m "feat: ä½ çš„åŠŸèƒ½æè¿°"
git push origin main

cd ..

# ========== æ­¥éª¤ 2: æ›´æ–°å¤–å±‚ä»“åº“å¼•ç”¨ ==========
# åœ¨å¤–å±‚ç›®å½•æ·»åŠ å­æ¨¡å—å¼•ç”¨æ›´æ–°
git add BeatUClient

# æäº¤å¤–å±‚ä»“åº“
git commit -m "chore: æ›´æ–° BeatUClient å­æ¨¡å—åˆ°æœ€æ–°ç‰ˆæœ¬"

# æ¨é€å¤–å±‚ä»“åº“
git push origin main
```

### âŒ å¸¸è§é”™è¯¯

1. **å¿˜è®°åˆ‡æ¢åˆ° main åˆ†æ”¯**
   - é—®é¢˜ï¼šåœ¨ "detached HEAD" çŠ¶æ€ä¸‹æäº¤ï¼Œä»£ç å¯èƒ½ä¸¢å¤±
   - è§£å†³ï¼šå§‹ç»ˆå…ˆ `git checkout main`

2. **åªæ¨é€äº†å­æ¨¡å—ï¼Œå¿˜è®°æ›´æ–°å¤–å±‚å¼•ç”¨**
   - é—®é¢˜ï¼šå…¶ä»–æˆå‘˜æ— æ³•è·å–åˆ°æœ€æ–°ä»£ç 
   - è§£å†³ï¼šæ¨é€å­æ¨¡å—åï¼Œå¿…é¡»åœ¨å¤–å±‚ç›®å½•æ‰§è¡Œ `git add BeatUClient` å¹¶æäº¤æ¨é€

3. **åœ¨å¤–å±‚ç›®å½•ç›´æ¥ `git add BeatUClient/`**
   - é—®é¢˜ï¼šä¼šç ´åå­æ¨¡å—ç»“æ„
   - è§£å†³ï¼šåªèƒ½ä½¿ç”¨ `git add BeatUClient`ï¼ˆä¸å¸¦æ–œæ ï¼‰æ¥æ›´æ–°å­æ¨¡å—å¼•ç”¨

---

## å¸¸è§é—®é¢˜å¤„ç†

### é—®é¢˜ 1: å­æ¨¡å—å¤„äº "detached HEAD" çŠ¶æ€

**ç°è±¡ï¼š**

```bash
cd BeatUClient
git status
# æ˜¾ç¤ºï¼šHEAD detached at abc1234
```

**è§£å†³ï¼š**

```bash
# åˆ‡æ¢åˆ° main åˆ†æ”¯
git checkout main

# å¦‚æœ main åˆ†æ”¯ä¸å­˜åœ¨ï¼Œä»è¿œç¨‹åˆ›å»º
git checkout -b main origin/main
```

### é—®é¢˜ 2: å­æ¨¡å—ä»£ç è½å

**ç°è±¡ï¼š** å…¶ä»–å›¢é˜Ÿæˆå‘˜æ¨é€äº†æ–°ä»£ç ï¼Œä½ çš„å­æ¨¡å—è¿˜æ˜¯æ—§ç‰ˆæœ¬

**è§£å†³ï¼š**

```bash
cd BeatUClient
git checkout main
git pull origin main
cd ..
```

### é—®é¢˜ 3: å­æ¨¡å—æœ‰æœªæäº¤çš„ä¿®æ”¹

**ç°è±¡ï¼š**

```bash
git status
# æ˜¾ç¤ºï¼šmodified: BeatUClient (modified content)
```

**åŸå› ï¼š** å­æ¨¡å—ç›®å½•ä¸­æœ‰æœªæäº¤çš„ä¿®æ”¹

**è§£å†³ï¼š**

```bash
# è¿›å…¥å­æ¨¡å—æŸ¥çœ‹å¹¶å¤„ç†
cd BeatUClient
git status
git diff

# é€‰é¡¹ 1: æäº¤ä¿®æ”¹
git add .
git commit -m "fix: ä¿®å¤é—®é¢˜"
git push origin main

# é€‰é¡¹ 2: ä¸¢å¼ƒä¿®æ”¹ï¼ˆå±é™©æ“ä½œï¼Œè¯·è°¨æ…ï¼‰
git checkout .

cd ..
```

### é—®é¢˜ 4: å…‹éš†åå­æ¨¡å—ç›®å½•ä¸ºç©º

**ç°è±¡ï¼š** `BeatUClient/` ç›®å½•å­˜åœ¨ä½†æ˜¯ç©ºçš„

**åŸå› ï¼š** å…‹éš†æ—¶æ²¡æœ‰åˆå§‹åŒ–å­æ¨¡å—

**è§£å†³ï¼š**

```bash
# åˆå§‹åŒ–å¹¶æ›´æ–°å­æ¨¡å—
git submodule update --init --recursive

# è¿›å…¥å­æ¨¡å—å¹¶åˆ‡æ¢åˆ†æ”¯
cd BeatUClient
git checkout main
cd ..
```

### é—®é¢˜ 5: æ¨é€è¢«æ‹’ç»

**åŸå› ï¼š** è¿œç¨‹ä»“åº“æœ‰æ–°çš„æäº¤ï¼Œéœ€è¦å…ˆæ‹‰å–

**è§£å†³ï¼š**

```bash
# åœ¨å­æ¨¡å—ä¸­
cd BeatUClient
git pull origin main
# å¦‚æœæœ‰å†²çªï¼Œè§£å†³å†²çªåå†æ¨é€
git push origin main

# åœ¨å¤–å±‚ä»“åº“ä¸­
cd ..
git pull origin main
git push origin main
```

---

## åˆ†æ”¯ç®¡ç†è§„èŒƒ

### å­æ¨¡å—åˆ†æ”¯ç­–ç•¥

- **ä¸»åˆ†æ”¯ï¼š** `main`
- **åŠŸèƒ½åˆ†æ”¯ï¼š** æ ¹æ®éœ€è¦åˆ›å»º `feature/xxx`
- **å¼€å‘æµç¨‹ï¼š**
  1. ä» `main` åˆ›å»ºåŠŸèƒ½åˆ†æ”¯
  2. åœ¨åŠŸèƒ½åˆ†æ”¯ä¸Šå¼€å‘
  3. å®Œæˆååˆå¹¶å› `main`
  4. æ¨é€ `main` åˆ†æ”¯

### åˆ›å»ºåŠŸèƒ½åˆ†æ”¯ç¤ºä¾‹

```bash
# è¿›å…¥å­æ¨¡å—
cd BeatUClient

# ä» main åˆ›å»ºæ–°åˆ†æ”¯
git checkout main
git pull origin main
git checkout -b feature/video-player

# å¼€å‘å®Œæˆåï¼Œåˆå¹¶å› main
git checkout main
git merge feature/video-player
git push origin main

# è¿”å›å¤–å±‚ï¼Œæ›´æ–°å­æ¨¡å—å¼•ç”¨
cd ..
git add BeatUClient
git commit -m "chore: æ›´æ–° BeatUClient å­æ¨¡å—åˆ° feature/video-player åˆå¹¶åç‰ˆæœ¬"
git push origin main
```

### å¤–å±‚ä»“åº“åˆ†æ”¯ç­–ç•¥

- **ä¸»åˆ†æ”¯ï¼š** `main`
- **å·¥ä½œæµç¨‹ï¼š** å­æ¨¡å—æ›´æ–°åï¼ŒåŠæ—¶æ›´æ–°å¤–å±‚ä»“åº“çš„å­æ¨¡å—å¼•ç”¨

---

## å¿«é€Ÿå‚è€ƒå‘½ä»¤

### æ—¥å¸¸å¼€å‘æ£€æŸ¥æ¸…å•

```bash
# âœ… 1. ç¡®è®¤åœ¨æ­£ç¡®çš„ç›®å½•å’Œåˆ†æ”¯
cd BeatUClient
git branch          # åº”è¯¥æ˜¾ç¤º: * main
git status          # æŸ¥çœ‹ä¿®æ”¹çŠ¶æ€

# âœ… 2. æ‹‰å–æœ€æ–°ä»£ç 
git pull origin main

# âœ… 3. å¼€å‘ã€æäº¤ã€æ¨é€
git add .
git commit -m "feat: åŠŸèƒ½æè¿°"
git push origin main

# âœ… 4. è¿”å›å¤–å±‚ï¼Œæ›´æ–°å­æ¨¡å—å¼•ç”¨
cd ..
git add BeatUClient
git commit -m "chore: æ›´æ–° BeatUClient å­æ¨¡å—"
git push origin main
```

### å¸¸ç”¨å‘½ä»¤é€ŸæŸ¥

| æ“ä½œ | å‘½ä»¤ |
|------|------|
| å…‹éš†é¡¹ç›®ï¼ˆåŒ…å«å­æ¨¡å—ï¼‰ | `git clone --recursive <url>` |
| åˆå§‹åŒ–å­æ¨¡å— | `git submodule update --init --recursive` |
| è¿›å…¥å­æ¨¡å— | `cd BeatUClient` |
| åˆ‡æ¢åˆ° main åˆ†æ”¯ | `git checkout main` |
| æ›´æ–°å­æ¨¡å—åˆ°æœ€æ–° | `git submodule update --remote` |
| æŸ¥çœ‹å­æ¨¡å—çŠ¶æ€ | `git status`ï¼ˆåœ¨å¤–å±‚ç›®å½•ï¼‰ |
| æŸ¥çœ‹å­æ¨¡å—ä¿¡æ¯ | `git submodule status` |

---

## å›¢é˜Ÿåä½œæœ€ä½³å®è·µ

1. **å¼€å‘å‰å…ˆæ›´æ–°ï¼š** æ¯æ¬¡å¼€å§‹å·¥ä½œå‰ï¼Œå…ˆ `git pull` æ›´æ–°ä»£ç 
2. **åŠæ—¶æ¨é€ï¼š** å®ŒæˆåŠŸèƒ½ååŠæ—¶æ¨é€ï¼Œä¸è¦ç§¯å‹å¤ªå¤šæäº¤
3. **æäº¤ä¿¡æ¯è§„èŒƒï¼š** ä½¿ç”¨æ¸…æ™°çš„æäº¤ä¿¡æ¯ï¼ˆå‚è€ƒ Conventional Commitsï¼‰
4. **ä¿æŒåŒæ­¥ï¼š** æ¨é€å­æ¨¡å—åï¼Œç«‹å³æ›´æ–°å¤–å±‚ä»“åº“çš„å¼•ç”¨
5. **å®šæœŸåŒæ­¥ï¼š** æ¯å¤©å¼€å§‹å’Œç»“æŸå·¥ä½œæ—¶ï¼Œéƒ½æ‰§è¡Œä¸€æ¬¡å®Œæ•´æ›´æ–°

---

## æäº¤ä¿¡æ¯è§„èŒƒå»ºè®®

å‚è€ƒ [Conventional Commits](https://www.conventionalcommits.org/)ï¼š

```
<type>(<scope>): <subject>

<body>

<footer>
```

**å¸¸ç”¨ typeï¼š**
- `feat`: æ–°åŠŸèƒ½
- `fix`: ä¿®å¤ bug
- `docs`: æ–‡æ¡£æ›´æ–°
- `style`: ä»£ç æ ¼å¼è°ƒæ•´
- `refactor`: é‡æ„
- `test`: æµ‹è¯•ç›¸å…³
- `chore`: æ„å»º/å·¥å…·é“¾ç›¸å…³

**ç¤ºä¾‹ï¼š**

```bash
git commit -m "feat(video): æ·»åŠ  ExoPlayer æ’­æ”¾å™¨æ”¯æŒ"
git commit -m "fix(player): ä¿®å¤å†…å­˜æ³„æ¼é—®é¢˜"
git commit -m "chore: æ›´æ–° BeatUClient å­æ¨¡å—åˆ°æœ€æ–°ç‰ˆæœ¬"
```

---

## éœ€è¦å¸®åŠ©ï¼Ÿ

å¦‚æœé‡åˆ°é—®é¢˜ï¼Œè¯·ï¼š
1. å…ˆæŸ¥çœ‹æœ¬æ–‡æ¡£çš„ [å¸¸è§é—®é¢˜å¤„ç†](#å¸¸è§é—®é¢˜å¤„ç†) éƒ¨åˆ†
2. æ£€æŸ¥ Git çŠ¶æ€ï¼š`git status` å’Œ `git submodule status`
3. è”ç³»å›¢é˜Ÿæˆå‘˜æˆ–é¡¹ç›®ç»´æŠ¤è€…

---

**æ–‡æ¡£æ›´æ–°æ—¶é—´ï¼š** 2025-01-XX  
**ç»´æŠ¤è€…ï¼š** UCW-BEATU å›¢é˜Ÿ

